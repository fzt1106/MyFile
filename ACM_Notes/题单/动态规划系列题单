# 线性DP

|                             题目                             |            Tags            |  难度  |                             问题                             |                           问题解决                           |                             学习                             |
| :----------------------------------------------------------: | :------------------------: | :----: | :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| [P5322 [BJOI2019] 排兵布阵](https://www.luogu.com.cn/problem/P5322) |          分组背包          | Mid++  |                                                              |                                                              |                                                              |
| [P1064 [NOIP2006 提高组] 金明的预算方案](https://www.luogu.com.cn/problem/P1064) |        有依赖的背包        | Mid++  | 先对组内进行01背包，然后进行分组背包，可是分组背包部分复杂度太高了[代码](https://www.luogu.com.cn/record/98680310) | 其实不需要进行分组背包，在组内进行01背包可以设置dp为前i组物品中选第i组重量为j的最大值，这样可以之间更新外层dp了[代码](https://www.luogu.com.cn/record/98686369) |                                                              |
| [P1941 [NOIP2014 提高组] 飞扬的小鸟](https://www.luogu.com.cn/problem/P1941) | 完全背包+01背包+细节超级多 | Hard-- |             WA了4个点，不知道实现完全背包错在哪              | 很细节的东西：完全背包的范围应该从1到m，而不是无导管的范围，因为完全背包由`dp[i][j-up[i-1]]`转换而来，若(i,j-up[i-1])为导管设置为inf那么(i,j)处也会得到inf，但是可以通过多步跨越(i,j-up[i-1])到达(i,j)的 | 混合背包中**注意不同背包的次序**，以及对特定题目**特殊的来源来调整背包来源** |
| [C. Remove the Bracket](https://codeforces.com/contest/1787/problem/C) |          DP+思维           | Mid++  |                                                              |                                                              |                                                              |
| [清楚姐姐学01背包(Hard Version)](https://ac.nowcoder.com/acm/contest/46812/D) |    01背包+最短路径思路     | Mid++  |                                                              |                                                              |         **部分dp类似于最短路问题，也是满足可加性的**         |
| [Functions again](https://vjudge.csgrandeur.cn/contest/536680#problem/C) |      线性dp+存储状态       | Mid--  |                                                              |                                                              |                    **增加维度来记忆状态**                    |
| [Subsequences (hard version)](https://codeforces.com/contest/1183/problem/H) |       DP+字符串+容斥       | Mid++  |                                                              |                                                              |         **利用dp求前i个字符删除j个字符的子序列个数**         |
| [Bookshelves](https://codeforces.com/contest/981/problem/D)  |     贪心+线性DP+位运算     | Hard-- |                                                              |                                                              |         有关位运算，可以试着从**二进制位**的角度考虑         |

---

# 区间DP

|                             题目                             |         Tags         | 难度  |                       问题                        |                           问题解决                           |                             学习                             |
| :----------------------------------------------------------: | :------------------: | :---: | :-----------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| [P1880 [NOI1995] 石子合并](https://www.luogu.com.cn/problem/P1880) |  区间DP（环形区间）  | Mid-- |                                                   |                                                              |            环形区间可以通过增加一倍线性空间来实现            |
| [P4342 [IOI1998]Polygon](https://www.luogu.com.cn/problem/P4342) | 区间DP+环形区间+乘法 | Mid++ |                                                   |                                                              | 对于$区间最大值=左子区间\times 右子区间$的问题，由于**乘法**存在，其左右子区间为负数的情况会对最大值产生影响，因此还需要**维护区间最小值**以判断**乘法**的运算 |
| [P4170 [CQOI2007]涂色](https://www.luogu.com.cn/problem/P4170) |  区间DP+特殊分割点   | Mid++ | `s[l]==s[r]`时用`dp[l][r]=dp[l+1][r-1]+1`进行转移 | 可能会出现`s[l+1],s[r-1]`也等于s[l]的情况，这时会额外进行涂色 | 区间DP**不要拘泥于枚举区间断点**，注意**特殊断点**处的状态转移 |

---

# 树形DP

|                             题目                             |           Tags           | 难度  | 问题 |                           问题解决                           |                           学习                           |
| :----------------------------------------------------------: | :----------------------: | :---: | :--: | :----------------------------------------------------------: | :------------------------------------------------------: |
| [P1040 [NOIP2003 提高组] 加分二叉树](https://www.luogu.com.cn/problem/P1040) | 树形DP+区间DP+前中序遍历 |  Mid  |      |                                                              |                                                          |
|  [P1122 最大子树和](https://www.luogu.com.cn/problem/P1122)  |          树形DP          |  Mid  |      |                                                              |                                                          |
| [P2585 [ZJOI2006]三色二叉树](https://www.luogu.com.cn/problem/P2585) |          树形DP          | Mid++ |      |                                                              |                                                          |
|                                                              |                          |       |      |                                                              |                                                          |
| [P2014 [CTSC1997] 选课](https://www.luogu.com.cn/problem/P2014) |         树上背包         | Mid++ |      |                                                              |                                                          |
|  [P1273 有线电视网](https://www.luogu.com.cn/problem/P1273)  |       树上分组背包       | Mid++ |      |                                                              |                                                          |
|   [P1272 重建道路](https://www.luogu.com.cn/problem/P1272)   |         树上背包         | Hard– |      |                                                              |                                                          |
| [P3698 [CQOI2017]小Q的棋盘](https://www.luogu.com.cn/problem/P3698) |         树上背包         | Hard  |      | 可能会有向某个儿子走数步回到根的情况，因此需要增加一维来表示是否回到根节点 |         用儿子的dp作为价值，其需要的重量作为花费         |
|                                                              |                          |       |      |                                                              |                                                          |
| [P2986 [USACO10MAR] Great Cow Gathering G](https://www.luogu.com.cn/problem/P2986) |          换根DP          |  Mid  |      |                                                              |                                                          |
| [P3047 [USACO12FEB]Nearby Cows G](https://www.luogu.com.cn/problem/P3047) |          换根DP          | Mid++ |      |                                                              |                                                          |
| [C. Centroids](https://codeforces.com/problemset/problem/708/C)<br />==需重写== |          换根DP          | Hard  |      |                                                              |                                                          |
| [CCPC桂林：G. Group Homework](https://codeforc.es/gym/104008/problem/G) |          换根DP          | Hard  |      |                                                              | 1.维护树的直径<br />2.维护最大、次大、次次大、次次次大值 |

# 数位DP

|                             题目                             |           Tags           | 难度  |                 问题                  |         问题解决         |                             学习                             |
| :----------------------------------------------------------: | :----------------------: | :---: | :-----------------------------------: | :----------------------: | :----------------------------------------------------------: |
|   [Bomb](https://acm.hdu.edu.cn/showproblem.php?pid=3555)    |          数位DP          |  Mid  | 用记忆化搜索(dfs)的方法时出现剪枝错误 | 剪枝的DP数组也得增加一维 | 类似于01背包中记忆化搜索，当状态增加一维时，用于剪枝的DP数组也得增加一维 |
| [P2602 [ZJOI2010] 数字计数](https://www.luogu.com.cn/problem/P2602) | 数位DP：统计数位出现次数 | Mid++ |                                       |                          | 注意**如何压缩状态**：用dfs方法将目前1出现的次数相同的数压缩为同一状态，用递推则将满i为的数压缩为同一状态 |
| [P4999 烦人的数学作业](https://www.luogu.com.cn/problem/P4999) | 数位DP：统计数位出现次数 | Mid++ |                                       |                          |               注意**取模时相减出现负数的情况**               |
| [P2657 [SCOI2009] windy 数](https://www.luogu.com.cn/problem/P2657) |          数位DP          |       |                                       |                          |                 数位DP中注意**前缀0**的情况                  |
| [P4124 [CQOI2016]手机号码](https://www.luogu.com.cn/problem/P4124) |          数位DP          |  Mid  |                                       |                          |         可以通过**枚举第一位**来避免**前导0**的情况          |

---

# 状压DP

|                             题目                             |         Tags          |  难度  |                             问题                             |                           问题解决                           |                             学习                             |
| :----------------------------------------------------------: | :-------------------: | :----: | :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| [P1896 [SCOI2005] 互不侵犯](https://www.luogu.com.cn/problem/P1896) |        状压DP         |  Mid   |                                                              |                                                              | 预处理好n位二进制位所有可能的状态，利用位运算判断两状态是否可以转移，但是缺点是复杂度优点高，n<=10适用$O(n*n*2^n*2^n)$ |
| [P3052 [USACO12MAR]Cows in a Skyscraper G](https://www.luogu.com.cn/problem/P3052) |        状压DP         |  Mid   | 用上题[P1896 [SCOI2005] 互不侵犯](https://www.luogu.com.cn/problem/P1896)的方法来写会超时 | 改变状态转移方式，通过从小到大枚举所有状态，并枚举n个物品，通过加入物品来用小状态更新大状态 | 通过从小到大枚举所有状态，并枚举n个物品，通过加入物品来用小状态更新大状态$O(n*2^n)$ |
| [P2704 [NOI2001] 炮兵阵地](https://www.luogu.com.cn/problem/P2704) |     状压dp+离散化     | Mid++  |                         DP数组会溢出                         |                   对状态进行**离散化**处理                   | 状压DP中**有时不用枚举全部状态**，可以通过**预处理(或离散化)**去掉无用状态以降低复杂度 |
| [P3959 [NOIP2017 提高组] 宝藏](https://www.luogu.com.cn/problem/P3959) |    **树上**状压DP     |  Hard  |                                                              |                                                              | 1. 状态x的所有子集为`for(int i=x;i!=0;i=(i-1)&x)`<br />2. 对于在**树上**的状压DP，可以对**层的状态**进行讨论 |
| [P2150 [NOI2015] 寿司晚宴](https://www.luogu.com.cn/problem/P2150)<br />==需重写== |    状压DP+隐藏区间    | Hard++ |                                                              |                                                              | 1. 一个数的质因子最多只能有一个大于自己的算术平方根：500以内的数的质因数集合可分为**小质因数集：2,3,5,7,11,13,17,19**与**大质因数集合：每个数最多只有一个**。因此可以对大质因数集单独讨论，对小质因数集进行状压DP处理 |
| [P3092 [USACO13NOV]No Change G](https://www.luogu.com.cn/problem/P3092) |      状压DP+二分      | Hard–  |                                                              |                                                              |                                                              |
| [P3694 邦邦的大合唱站队](https://www.luogu.com.cn/problem/P3694) |        状压DP         | Hard–  |                          ==未看懂==                          |                                                              |                                                              |
| [最短Hamilton路径](https://www.acwing.com/problem/content/description/93/) | 状压DP+最短哈密顿路径 | Mid++  |                                                              |                                                              |                                                              |
| [E. Routing](https://codeforces.com/contest/1804/problem/E)  | 状压+哈密顿回路+思维  |  Hard  |                                                              |                                                              |                                                              |
| [P2396 yyy loves Maths VII](https://www.luogu.com.cn/problem/P2396) |         状压          | Mid++  |                                                              |                                                              |                **$O(\log n)$遍历状态i中的1**                 |
| [P5005 中国象棋 - 摆上马](https://www.luogu.com.cn/problem/P5005) |   状压+判断状态冲突   | Hard–  |                                                              |         此题注意两个状态是否发生冲突是**相互独立**的         | 1.`(~(i>>1))&i`把i中连续的1的左边的1去掉：如001110->0010000  |
| [P2167 [SDOI2009]Bill的挑战](https://www.luogu.com.cn/problem/P2167)==需重写== |     状压DP+字符串     | Hard–  |                                                              |                                                              |       1.将每一位放入字符ch可以匹配的字符串压缩为一状态       |
|  [P2622 关灯问题II](https://www.luogu.com.cn/problem/P2622)  |      状压+最短路      | Hard–  |                                                              |                                                              | 若**状态直接能够转移**，则可以**在这两个状态直接加边**，最后转换为**图论问题** |



---

# 期望/概率DP

|                             题目                             |        Tags        | 难度  | 问题 | 问题解决 |                             学习                             |
| :----------------------------------------------------------: | :----------------: | :---: | :--: | :------: | :----------------------------------------------------------: |
| [P1365 WJMZBMR打osu! / Easy](https://www.luogu.com.cn/problem/P1365) |       期望PD       |  Mid  |      |          |                       **二次方**期望DP                       |
|  [例题：P1654 OSU!](https://www.luogu.com.cn/problem/P1654)  |       期望DP       | Mid++ |      |          |                       **三次方**期望DP                       |
|      [Collecting Bugs](http://poj.org/problem?id=2096)       |       期望DP       |  Mid  |      |          | 期望DP一般都是**从终点开始回推，其回推方法同概率DP类似：通过特判一次所有情况转化为子问题** |
|       [【NOIP2016】换教室](https://uoj.ac/problem/262)       | 期望DP+最短路+背包 | Mid++ |      |          |                                                              |
| [P4284 [SHOI2014] 概率充电器](https://www.luogu.com.cn/problem/P4284) |   期望DP+树形DP    | Hard  |      |          | 若判断A、B至少一个发生的概率，那么为<br />$P(A)*(1-P(B))$<br />$P(B)*P(1-P(A))$<br />$P(A)*P(B)$<br />三则之和：$P(A)+P(B)-P(A)*P(B)$，并且注意要保证**AB相互独立（换根的时候要从父亲中消去儿子的影响）** |
|                                                              |                    |       |      |          |                                                              |
| [D. Bag of mice](https://codeforces.com/problemset/problem/148/D) |       概率DP       |  Mid  |      |          |    概率DP一般思路为：**通过特判一次所有情况转化为子问题**    |
|                                                              |                    |       |      |          |                                                              |



# 其他优化DP

|                             题目                             |     Tags     | 难度 | 问题 | 问题解决 |                             学习                             |
| :----------------------------------------------------------: | :----------: | :--: | :--: | :------: | :----------------------------------------------------------: |
| [B-World Final? World Cup! (II)_2023牛客寒假算法基础集训营1](https://ac.nowcoder.com/acm/contest/46800/B) | 前缀和优化DP | Hard |      |          | 1.先从暴力dp出发，观察来源来优化dp  2.同时求多个前缀和时一定要注意初始化与先后次序  3.在此强调**dp来源**  [题解](https://www.cnblogs.com/fried-chicken/p/13736254.html) |

